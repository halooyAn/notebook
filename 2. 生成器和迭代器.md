# 生成器和迭代器 

# 1.迭代器

## 什么是迭代器：

迭代器可以让我们访问集合的时候变得非常方便。之前我们通过`for...in...`的方式访问一个集合的时候，就是使用迭代器完成的。如果没有迭代器，那么我们只能通过`while`循环，每次循环的时候通过下标访问了。

## 可迭代对象

以直接使用for循环遍历的对象，成为可迭代的对象，常见的可迭代的对象有：`list`、`tuple`、`dict`、`set`、`string`以及生成器。
更加专业的判断一个对象是否是可迭代的对象是：这个对象有一个`__iter__`方法，并且这个方法会返回一个迭代器对象，这种对象就叫做可迭代的对象。

## 判断一个对象是否是可迭代：

可以使用`isinstance()`判断一个对象是否是`Iterable`的对象：
```python    
from collections import Iterable
# 列表是一个可迭代的对象
ret = isinstance([1,2,3],Iterable)
print(ret)

# 字符串是一个可迭代的对象
ret = isinstance("abc",Iterable)
print(ret)

# 整形不是一个可迭代的对象
ret = isinstance(123,Iterable)
print(ret)
```

## 迭代器：
1. 在`Python2`中，实现了`next`方法和`__iter__`方法，并且在这个方法中返回了值的对象，叫做迭代器对象。
2. 在`Python3`中，实现了`__next__`方法和方法`__iter__`方法，并且这个方法返回了值的对象，叫做迭代器对象。
3. 如果迭代器没有返回值了，那么应该在`next`或者是`__next__`方法中抛出一个`StopIteration`异常。

## 使用`iter()`方法获取可迭代对象的迭代器：

有时候我们拥有了一个可迭代的对象，我们想要获取这个迭代器，那么可以通过`iter(x)`方法获取这个可迭代对象的迭代器。

## 自定义迭代器：
```python    
from collections import Iterable
# 列表是一个可迭代的对象
ret = isinstance([1,2,3],Iterable)
print(ret)

# 字符串是一个可迭代的对象
ret = isinstance("abc",Iterable)
print(ret)

# 整形不是一个可迭代的对象
ret = isinstance(123,Iterable)
print(ret)
```